---
version: 1
interactions:
- request:
    body: '{"project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","name":"cli-test","description":"cli-test","ip_id":null,"tags":null,"type":"LB-S","ssl_compatibility_level":"ssl_compatibility_level_unknown"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs
    method: POST
  response:
    body: '{"id":"88899fa0-efaf-43a7-b103-18c976797e30","name":"cli-test","description":"cli-test","status":"pending","instances":[],"organization_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","ip":[{"id":"c2d84c13-fe63-4fd4-a3b8-4d6d2da0d1bb","ip_address":"51.159.27.83","organization_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","lb_id":"88899fa0-efaf-43a7-b103-18c976797e30","reverse":"51-159-27-83.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-27T12:33:17.824539828Z","updated_at":"2021-04-27T12:33:17.824539828Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "821"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 27 Apr 2021 12:33:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e028aa95-d27d-4b4e-ac00-086955b8b08e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/88899fa0-efaf-43a7-b103-18c976797e30
    method: GET
  response:
    body: '{"id":"88899fa0-efaf-43a7-b103-18c976797e30","name":"cli-test","description":"cli-test","status":"pending","instances":[],"organization_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","ip":[{"id":"c2d84c13-fe63-4fd4-a3b8-4d6d2da0d1bb","ip_address":"51.159.27.83","organization_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","lb_id":"88899fa0-efaf-43a7-b103-18c976797e30","reverse":"51-159-27-83.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-27T12:33:17.824540Z","updated_at":"2021-04-27T12:33:17.824540Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "815"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 27 Apr 2021 12:33:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7317c9dd-3af8-45c2-9b90-eb02200b9824
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/88899fa0-efaf-43a7-b103-18c976797e30
    method: GET
  response:
    body: '{"id":"88899fa0-efaf-43a7-b103-18c976797e30","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"9a77ded5-f6d8-470b-91df-5d5e79789604","status":"ready","ip_address":"10.64.32.67","created_at":"2021-04-27T07:05:23.075816Z","updated_at":"2021-04-27T12:33:18.346339Z","region":"fr-par","zone":"fr-par-1"},{"id":"0172ee39-d79d-4c5e-8862-e6f7df0ff30c","status":"ready","ip_address":"10.71.112.55","created_at":"2021-04-27T04:23:20.025885Z","updated_at":"2021-04-27T12:33:18.770764Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","ip":[{"id":"c2d84c13-fe63-4fd4-a3b8-4d6d2da0d1bb","ip_address":"51.159.27.83","organization_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","project_id":"b3ba839a-dcf2-4b0a-ac81-fc32370052a0","lb_id":"88899fa0-efaf-43a7-b103-18c976797e30","reverse":"51-159-27-83.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-27T12:33:17.824540Z","updated_at":"2021-04-27T12:33:19.116424Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1237"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 27 Apr 2021 12:33:20 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 98cba473-78a1-4583-ba2e-74ca8139b87c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/88899fa0-efaf-43a7-b103-18c976797e30?release_ip=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 27 Apr 2021 12:33:20 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a7ebc605-2d10-49b1-9689-1a7b6f6ddd05
    status: 204 No Content
    code: 204
    duration: ""
