---
version: 1
interactions:
- request:
    body: '{"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"cli-test","description":"cli-test","ip_id":null,"tags":null,"type":"LB-S","ssl_compatibility_level":"ssl_compatibility_level_unknown"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs
    method: POST
  response:
    body: '{"id":"0931135e-6220-4546-b346-56d0195e863f","name":"cli-test","description":"cli-test","status":"pending","instances":[],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"934bc09b-003e-476d-96a8-24aabeb7fa36","ip_address":"51.159.115.15","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"0931135e-6220-4546-b346-56d0195e863f","reverse":"51-159-115-15.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T12:01:51.557341150Z","updated_at":"2021-04-07T12:01:51.557341150Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "823"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 12:01:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f82d139b-db25-45aa-8472-b776b2c9b3d5
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/0931135e-6220-4546-b346-56d0195e863f
    method: GET
  response:
    body: '{"id":"0931135e-6220-4546-b346-56d0195e863f","name":"cli-test","description":"cli-test","status":"pending","instances":[{"id":"6302f128-9642-4b17-be31-885c16e7f095","status":"unknown","ip_address":"10.68.186.133","created_at":"2021-04-07T12:00:27.686504Z","updated_at":"2021-04-07T12:01:51.783037Z","region":"fr-par","zone":"fr-par-1"},{"id":"dd01e3ff-9e69-4683-b2d5-29c6ab510367","status":"unknown","ip_address":"10.64.186.169","created_at":"2021-04-07T11:59:10.663961Z","updated_at":"2021-04-07T12:01:51.786272Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"934bc09b-003e-476d-96a8-24aabeb7fa36","ip_address":"51.159.115.15","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"0931135e-6220-4546-b346-56d0195e863f","reverse":"51-159-115-15.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T12:01:51.557341Z","updated_at":"2021-04-07T12:01:51.797417Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1248"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 12:01:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9723d23c-fb78-4062-aa79-770e78271b9b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/0931135e-6220-4546-b346-56d0195e863f
    method: GET
  response:
    body: '{"id":"0931135e-6220-4546-b346-56d0195e863f","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"6302f128-9642-4b17-be31-885c16e7f095","status":"ready","ip_address":"10.68.186.133","created_at":"2021-04-07T12:00:27.686504Z","updated_at":"2021-04-07T12:01:51.986727Z","region":"fr-par","zone":"fr-par-1"},{"id":"dd01e3ff-9e69-4683-b2d5-29c6ab510367","status":"ready","ip_address":"10.64.186.169","created_at":"2021-04-07T11:59:10.663961Z","updated_at":"2021-04-07T12:01:52.180251Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"934bc09b-003e-476d-96a8-24aabeb7fa36","ip_address":"51.159.115.15","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"0931135e-6220-4546-b346-56d0195e863f","reverse":"51-159-115-15.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T12:01:51.557341Z","updated_at":"2021-04-07T12:01:52.481158Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1242"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 12:01:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b208032b-6924-4dbe-a82b-a5181081962b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs?order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"lbs":[{"id":"9ba57bc3-8be9-4db6-8984-74ccd2ae83c8","name":"lb-lucid-johnson","description":"","status":"ready","instances":[{"id":"545b12e9-cef7-4ef3-9c07-09911764e2e9","status":"ready","ip_address":"10.68.186.61","created_at":"2021-03-08T17:07:40.485699Z","updated_at":"2021-03-08T17:11:02.840965Z","region":"fr-par","zone":"fr-par-1"},{"id":"59bf1f4b-c4a2-4dd0-bd3f-daa1c451483f","status":"ready","ip_address":"10.73.80.45","created_at":"2021-03-08T17:07:43.161367Z","updated_at":"2021-03-08T17:11:02.670045Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"490169b3-f91a-49cd-8e41-87db62e19551","ip_address":"51.159.114.154","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"9ba57bc3-8be9-4db6-8984-74ccd2ae83c8","reverse":"51-159-114-154.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":1,"backend_count":1,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-03-08T17:08:55.493379Z","updated_at":"2021-03-08T17:08:57.559773Z","region":"fr-par","zone":"fr-par-1"},{"id":"8697edeb-b3b1-4d8b-b97f-c74d99934511","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"f259d692-b811-48a4-ac19-db2bc2cc30e9","status":"ready","ip_address":"10.68.166.141","created_at":"2021-04-01T07:43:58.170493Z","updated_at":"2021-04-07T11:59:02.646421Z","region":"fr-par","zone":"fr-par-1"},{"id":"e2fc038b-688b-4848-84b8-bdcc3f8c8df4","status":"ready","ip_address":"10.71.114.81","created_at":"2021-04-07T00:17:24.944336Z","updated_at":"2021-04-07T11:59:02.171259Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"91de8223-4de6-4dec-b3be-2fbbc2c732f7","ip_address":"51.159.75.235","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"8697edeb-b3b1-4d8b-b97f-c74d99934511","reverse":"51-159-75-235.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T11:59:01.346255Z","updated_at":"2021-04-07T11:59:02.958161Z","region":"fr-par","zone":"fr-par-1"},{"id":"1bef9835-1606-47c0-b343-768659fddb4c","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"b085573f-b52b-47ef-b4b8-37bae37a5f3e","status":"ready","ip_address":"10.70.84.121","created_at":"2021-04-07T11:59:04.452004Z","updated_at":"2021-04-07T12:01:33.634756Z","region":"fr-par","zone":"fr-par-1"},{"id":"aeee9447-7ac0-40f2-ad17-f69061e0cdaf","status":"ready","ip_address":"10.64.32.103","created_at":"2021-04-07T11:59:29.373428Z","updated_at":"2021-04-07T12:01:34.146634Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"927cfa70-ce50-44f1-a90f-dc13763e0228","ip_address":"51.159.115.231","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"1bef9835-1606-47c0-b343-768659fddb4c","reverse":"51-159-115-231.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T12:01:32.651077Z","updated_at":"2021-04-07T12:01:35.112047Z","region":"fr-par","zone":"fr-par-1"},{"id":"0931135e-6220-4546-b346-56d0195e863f","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"dd01e3ff-9e69-4683-b2d5-29c6ab510367","status":"ready","ip_address":"10.64.186.169","created_at":"2021-04-07T11:59:10.663961Z","updated_at":"2021-04-07T12:01:52.180251Z","region":"fr-par","zone":"fr-par-1"},{"id":"6302f128-9642-4b17-be31-885c16e7f095","status":"ready","ip_address":"10.68.186.133","created_at":"2021-04-07T12:00:27.686504Z","updated_at":"2021-04-07T12:01:51.986727Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"934bc09b-003e-476d-96a8-24aabeb7fa36","ip_address":"51.159.115.15","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"0931135e-6220-4546-b346-56d0195e863f","reverse":"51-159-115-15.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T12:01:51.557341Z","updated_at":"2021-04-07T12:01:52.481158Z","region":"fr-par","zone":"fr-par-1"}],"total_count":4}'
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 12:01:54 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 06db6f04-ad38-4862-96e7-4b21271366db
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/0931135e-6220-4546-b346-56d0195e863f?release_ip=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 12:01:54 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 02eace21-2e18-4a7f-92c9-d7ef14b8938f
    status: 204 No Content
    code: 204
    duration: ""
