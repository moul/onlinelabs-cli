---
version: 1
interactions:
- request:
    body: '{"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"cli-test","description":"cli-test","ip_id":null,"tags":null,"type":"LB-S","ssl_compatibility_level":"ssl_compatibility_level_unknown"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs
    method: POST
  response:
    body: '{"id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","name":"cli-test","description":"cli-test","status":"pending","instances":[],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"497f1f83-f0cc-4c92-95bb-a50408174cd2","ip_address":"195.154.70.227","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","reverse":"195-154-70-227.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}'
    headers:
      Content-Length:
      - "593"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Jul 2020 09:15:38 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2602bfe8-1f6c-441b-bee4-b80b11086472
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/ee00b31c-767a-4133-8ec0-cbcc42b5329c
    method: GET
  response:
    body: '{"id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","name":"cli-test","description":"cli-test","status":"pending","instances":[{"id":"0d614db8-bffe-4b42-beb0-53754fdc9f0b","status":"unknown","ip_address":"10.68.212.169","region":"fr-par"},{"id":"0d5734af-26b7-4c56-814d-6bae65c60cdf","status":"unknown","ip_address":"10.64.2.23","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"497f1f83-f0cc-4c92-95bb-a50408174cd2","ip_address":"195.154.70.227","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","reverse":"195-154-70-227.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}'
    headers:
      Content-Length:
      - "813"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Jul 2020 09:15:38 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 77a86656-4d9a-4099-9bfa-4213fd31ff5b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/ee00b31c-767a-4133-8ec0-cbcc42b5329c
    method: GET
  response:
    body: '{"id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"0d614db8-bffe-4b42-beb0-53754fdc9f0b","status":"ready","ip_address":"10.68.212.169","region":"fr-par"},{"id":"0d5734af-26b7-4c56-814d-6bae65c60cdf","status":"ready","ip_address":"10.64.2.23","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"497f1f83-f0cc-4c92-95bb-a50408174cd2","ip_address":"195.154.70.227","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","reverse":"195-154-70-227.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}'
    headers:
      Content-Length:
      - "807"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Jul 2020 09:15:40 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e24d0d0a-c384-466f-860d-6e9f5c821635
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs?order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"lbs":[{"id":"df9969f2-e408-471d-89ad-fec905268bc6","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"223875c7-90b5-47b9-bce4-c31da7b72c5d","status":"ready","ip_address":"10.68.130.123","region":"fr-par"},{"id":"722e1255-f976-4c10-8a30-e0a0140e05d8","status":"ready","ip_address":"10.64.74.57","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"513a8613-5d27-4839-a2e1-8100960b5402","ip_address":"195.154.69.128","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"df9969f2-e408-471d-89ad-fec905268bc6","reverse":"195-154-69-128.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"},{"id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"0d614db8-bffe-4b42-beb0-53754fdc9f0b","status":"ready","ip_address":"10.68.212.169","region":"fr-par"},{"id":"0d5734af-26b7-4c56-814d-6bae65c60cdf","status":"ready","ip_address":"10.64.2.23","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"497f1f83-f0cc-4c92-95bb-a50408174cd2","ip_address":"195.154.70.227","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"ee00b31c-767a-4133-8ec0-cbcc42b5329c","reverse":"195-154-70-227.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}],"total_count":2}'
    headers:
      Content-Length:
      - "1642"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Jul 2020 09:15:40 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8102bdeb-24cb-4f5a-aba6-a3636516fa22
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/ee00b31c-767a-4133-8ec0-cbcc42b5329c?release_ip=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Jul 2020 09:15:40 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - deaa1b37-12e9-402d-bff7-4d89e38c15c0
    status: 204 No Content
    code: 204
    duration: ""
