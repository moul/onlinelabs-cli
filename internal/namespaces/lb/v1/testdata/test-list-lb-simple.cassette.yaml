---
version: 1
interactions:
- request:
    body: '{"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"cli-test","description":"cli-test","ip_id":null,"tags":null,"type":"LB-S","ssl_compatibility_level":"ssl_compatibility_level_unknown"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs
    method: POST
  response:
    body: '{"id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","name":"cli-test","description":"cli-test","status":"pending","instances":[],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"739b8590-a067-4131-866e-74e5ee18dae1","ip_address":"51.159.26.103","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","reverse":"51-159-26-103.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}'
    headers:
      Content-Length:
      - "695"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 11 Aug 2020 09:17:28 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - eacda4ec-de56-4cc8-9f9c-049a726331ac
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/a665ecbc-f0b6-464a-9e95-5d12868ea946
    method: GET
  response:
    body: '{"id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","name":"cli-test","description":"cli-test","status":"pending","instances":[{"id":"1ba0de55-bfb1-44f5-89fd-b71fc9aa67e6","status":"unknown","ip_address":"10.68.70.45","region":"fr-par"},{"id":"b2fce7f2-8e0c-4c9d-9ef4-1884f155ca8b","status":"unknown","ip_address":"10.68.206.119","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"739b8590-a067-4131-866e-74e5ee18dae1","ip_address":"51.159.26.103","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","reverse":"51-159-26-103.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}'
    headers:
      Content-Length:
      - "916"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 11 Aug 2020 09:17:28 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9f278932-ee14-46a4-a1d4-4efb58606a5e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/a665ecbc-f0b6-464a-9e95-5d12868ea946
    method: GET
  response:
    body: '{"id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"1ba0de55-bfb1-44f5-89fd-b71fc9aa67e6","status":"ready","ip_address":"10.68.70.45","region":"fr-par"},{"id":"b2fce7f2-8e0c-4c9d-9ef4-1884f155ca8b","status":"ready","ip_address":"10.68.206.119","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"739b8590-a067-4131-866e-74e5ee18dae1","ip_address":"51.159.26.103","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","reverse":"51-159-26-103.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}'
    headers:
      Content-Length:
      - "910"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 11 Aug 2020 09:17:30 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 85b34f5e-6f79-4a9e-b053-9504abc75588
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs?order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"lbs":[{"id":"8b873b80-5327-4ef1-8f99-6c74d54faed3","name":"lb-boring-nash","description":"","status":"ready","instances":[{"id":"1a141c2d-9061-46a5-99d9-eaccf669b41b","status":"ready","ip_address":"10.68.42.73","region":"fr-par"},{"id":"9ab0406f-7203-4956-baa7-81a53d48d603","status":"ready","ip_address":"10.68.14.47","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"497f1f83-f0cc-4c92-95bb-a50408174cd2","ip_address":"195.154.70.227","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"8b873b80-5327-4ef1-8f99-6c74d54faed3","reverse":"195-154-70-227.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":1,"backend_count":1,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"},{"id":"c8abf8c6-3eb0-45af-9ff2-e6a2dd12d609","name":"lb-pensive-bhabha","description":"","status":"ready","instances":[{"id":"de4c7d95-14b7-4462-be7e-c86b47f8c0df","status":"ready","ip_address":"10.69.58.91","region":"fr-par"},{"id":"208acd52-d47d-404a-9c74-d29b225b826d","status":"ready","ip_address":"10.65.26.163","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"1d220696-0a89-473f-a389-d66223a93100","ip_address":"195.154.68.89","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"c8abf8c6-3eb0-45af-9ff2-e6a2dd12d609","reverse":"195-154-68-89.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":1,"backend_count":1,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"},{"id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"1ba0de55-bfb1-44f5-89fd-b71fc9aa67e6","status":"ready","ip_address":"10.68.70.45","region":"fr-par"},{"id":"b2fce7f2-8e0c-4c9d-9ef4-1884f155ca8b","status":"ready","ip_address":"10.68.206.119","region":"fr-par"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"739b8590-a067-4131-866e-74e5ee18dae1","ip_address":"51.159.26.103","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"a665ecbc-f0b6-464a-9e95-5d12868ea946","reverse":"51-159-26-103.lb.fr-par.scw.cloud","region":"fr-par"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","region":"fr-par"}],"total_count":3}'
    headers:
      Content-Length:
      - "2756"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 11 Aug 2020 09:17:30 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2c757f08-72ac-4e5b-829e-da33ffa6ebc0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.6+dev (go1.14.5; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/a665ecbc-f0b6-464a-9e95-5d12868ea946?release_ip=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 11 Aug 2020 09:17:31 GMT
      Server:
      - agw_listener_public_vip
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8b4bb749-edd0-4729-a9df-19bf30fe062d
    status: 204 No Content
    code: 204
    duration: ""
