---
version: 1
interactions:
- request:
    body: '{"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"cli-test","description":"cli-test","ip_id":null,"tags":null,"type":"LB-S","ssl_compatibility_level":"ssl_compatibility_level_unknown"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs
    method: POST
  response:
    body: '{"id":"bb8a94d3-fa3b-44f3-9a95-5e540ff43833","name":"cli-test","description":"cli-test","status":"pending","instances":[],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"9250f201-9cf2-425b-929e-4422592eb2c2","ip_address":"51.159.114.215","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"bb8a94d3-fa3b-44f3-9a95-5e540ff43833","reverse":"51-159-114-215.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T11:59:50.989303952Z","updated_at":"2021-04-07T11:59:50.989303952Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "825"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 11:59:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3994ef14-0853-490e-80d1-fcf6d9bfe289
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/bb8a94d3-fa3b-44f3-9a95-5e540ff43833
    method: GET
  response:
    body: '{"id":"bb8a94d3-fa3b-44f3-9a95-5e540ff43833","name":"cli-test","description":"cli-test","status":"pending","instances":[{"id":"c41a309f-fca4-490a-8107-b8c91093c61a","status":"unknown","ip_address":"10.72.118.63","created_at":"2021-04-07T11:58:47.636732Z","updated_at":"2021-04-07T11:59:51.184853Z","region":"fr-par","zone":"fr-par-1"},{"id":"c7210cbb-a239-4dcd-9596-5efb13206b25","status":"unknown","ip_address":"10.64.142.31","created_at":"2021-04-07T11:58:44.917186Z","updated_at":"2021-04-07T11:59:51.187634Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"9250f201-9cf2-425b-929e-4422592eb2c2","ip_address":"51.159.114.215","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"bb8a94d3-fa3b-44f3-9a95-5e540ff43833","reverse":"51-159-114-215.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T11:59:50.989304Z","updated_at":"2021-04-07T11:59:51.198148Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1248"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 11:59:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - cda13d8b-b099-4371-9f88-48bdaf5e413d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/bb8a94d3-fa3b-44f3-9a95-5e540ff43833
    method: GET
  response:
    body: '{"id":"bb8a94d3-fa3b-44f3-9a95-5e540ff43833","name":"cli-test","description":"cli-test","status":"ready","instances":[{"id":"c41a309f-fca4-490a-8107-b8c91093c61a","status":"ready","ip_address":"10.72.118.63","created_at":"2021-04-07T11:58:47.636732Z","updated_at":"2021-04-07T11:59:51.392997Z","region":"fr-par","zone":"fr-par-1"},{"id":"c7210cbb-a239-4dcd-9596-5efb13206b25","status":"ready","ip_address":"10.64.142.31","created_at":"2021-04-07T11:58:44.917186Z","updated_at":"2021-04-07T11:59:51.721085Z","region":"fr-par","zone":"fr-par-1"}],"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","ip":[{"id":"9250f201-9cf2-425b-929e-4422592eb2c2","ip_address":"51.159.114.215","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","lb_id":"bb8a94d3-fa3b-44f3-9a95-5e540ff43833","reverse":"51-159-114-215.lb.fr-par.scw.cloud","region":"fr-par","zone":"fr-par-1"}],"tags":[],"frontend_count":0,"backend_count":0,"type":"lb-s","subscriber":null,"ssl_compatibility_level":"ssl_compatibility_level_intermediate","created_at":"2021-04-07T11:59:50.989304Z","updated_at":"2021-04-07T11:59:52.239706Z","region":"fr-par","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1242"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 11:59:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bb05fe93-a2ca-44fc-9310-3f720486880f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/regions/fr-par/lbs/bb8a94d3-fa3b-44f3-9a95-5e540ff43833?release_ip=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 07 Apr 2021 11:59:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 663d08be-6bc0-43b4-88f2-0d52eea84788
    status: 204 No Content
    code: 204
    duration: ""
