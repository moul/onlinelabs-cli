---
version: 1
interactions:
- request:
    body: '{"volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-04T12:28:26.765375+00:00", "modification_date":
      "2023-12-04T12:28:26.765375+00:00", "tags": [], "zone": "fr-par-1"}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes
    method: POST
  response:
    body: '{"volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-04T12:28:26.765375+00:00", "modification_date":
      "2023-12-04T12:28:26.765375+00:00", "tags": [], "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "430"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:26 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/1da7a6ea-a239-437d-a5a5-f09085a7055f
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6753d646-c80b-467f-805c-c84c8d5752fe
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: '{"volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-04T12:28:26.765375+00:00", "modification_date":
      "2023-12-04T12:28:26.765375+00:00", "tags": [], "zone": "fr-par-1"}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/1da7a6ea-a239-437d-a5a5-f09085a7055f
    method: GET
  response:
    body: '{"volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-04T12:28:26.765375+00:00", "modification_date":
      "2023-12-04T12:28:26.765375+00:00", "tags": [], "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "430"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:26 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9db0d6c2-d522-4d03-9a00-47d7cc1cf517
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.020529+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["foo", "bar"], "zone": "fr-par-1", "error_details":
      null}, "task": {"id": "09fdce7a-42e0-4a24-98ee-7cc9a20ec5f1", "description":
      "snapshot_f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "status": "pending", "href_from":
      "/snapshots", "href_result": "snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483",
      "started_at": "2023-12-04T12:28:27.244917+00:00", "terminated_at": null}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots
    method: POST
  response:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.020529+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["foo", "bar"], "zone": "fr-par-1", "error_details":
      null}, "task": {"id": "09fdce7a-42e0-4a24-98ee-7cc9a20ec5f1", "description":
      "snapshot_f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "status": "pending", "href_from":
      "/snapshots", "href_result": "snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483",
      "started_at": "2023-12-04T12:28:27.244917+00:00", "terminated_at": null}}'
    headers:
      Content-Length:
      - "844"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f0f39306-c92a-4e55-91c7-310303ed13d6
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.840238+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483
    method: PATCH
  response:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.840238+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f9dfe0b8-812b-47a0-86c0-4e8e2fb796f7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.840238+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483
    method: GET
  response:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.840238+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e2023935-8f7e-461e-8670-5e74a8067c2f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.840238+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483
    method: GET
  response:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:27.840238+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2b527e57-a9a9-4299-b4fb-8fca37a4ef5b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:33.377738+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "available", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f", "name":
      "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details": null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483
    method: GET
  response:
    body: '{"snapshot": {"id": "f3c20d27-6dab-4baf-986e-5ffcfe2b3483", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-04T12:28:27.020529+00:00",
      "modification_date": "2023-12-04T12:28:33.377738+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "available", "base_volume": {"id": "1da7a6ea-a239-437d-a5a5-f09085a7055f", "name":
      "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details": null}}'
    headers:
      Content-Length:
      - "535"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 04 Dec 2023 12:28:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 62fbc0aa-72c6-4354-a0b9-39de70b06ca0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f3c20d27-6dab-4baf-986e-5ffcfe2b3483
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Date:
      - Mon, 04 Dec 2023 12:28:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7e8db08c-de79-43e8-ac29-72276e2cf1c6
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/1da7a6ea-a239-437d-a5a5-f09085a7055f
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Date:
      - Mon, 04 Dec 2023 12:28:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 29ef4b62-96c9-4302-9172-f3f12d6927ba
    status: 204 No Content
    code: 204
    duration: ""
